```markdown
# Telegram Bot для мониторинга отзывов на Ozon

Этот проект представляет собой Telegram-бота, предназначенного для мониторинга и уведомления о новых отзывах на маркетплейсе Ozon. Бот проверяет отзывы с оценкой меньше 5 и отправляет уведомления в указанную тему Telegram-форума. В случае ошибок бот также отправляет уведомления в чат администратора.

## Основные функции

- **Мониторинг отзывов**: Получает отзывы через API Ozon и фильтрует те, у которых оценка меньше 5.
- **Уведомления в Telegram**: Отправляет уведомления о новых отзывах с низкой оценкой в указанную тему форума Telegram.
- **Обработка ошибок**: В случае возникновения ошибок отправляет уведомления в чат администратора.
- **Интеграция с Google Таблицами**: Получает артикулы (SKU) и названия товаров из Google Таблиц для удобства идентификации отзывов.
- **Ежедневное логирование**: Сохраняет отзывы за каждый день в JSON-файлы для последующего анализа.

## Настройка

Для работы бота требуется файл `config.json` со следующей структурой:

```json
{
    "telegram": {
        "bot_token": "YOUR_TELEGRAM_BOT_TOKEN",
        "forum_chat_id": "идентификатор конференции",
        "forum_topic_id": "идентификатор топика",
        "admin_chat_id": "идентификатор администратора"
    },
    "google": {
        "service_account_file": "path/to/your/service_account.json",
        "ik_1_3": {
            "ik": "your_google_sheet_id_1_3",
            "worksheet": "your_worksheet_name_1_3",
            "shipments": "your_shipments_sheet_id_1_3"
        },
        "ik_2_4": {
            "ik": "your_google_sheet_id_2_4",
            "worksheet": "your_worksheet_name_2_4",
            "shipments": "your_shipments_sheet_id_2_4"
        }
    },
    "projects": {
        "p_1_3": {
            "project1": {
                "head": {
                    "Client-Id": "your_client_id_1",
                    "Api-Key": "your_api_key_1"
                },
                "project": "project1"
            },
            "project3": {
                "head": {
                    "Client-Id": "your_client_id_3",
                    "Api-Key": "your_api_key_3"
                },
                "project": "project3"
            }
        },
        "p_2_4": {
            "project2": {
                "head": {
                    "Client-Id": "your_client_id_2",
                    "Api-Key": "your_api_key_2"
                },
                "project": "project2"
            },
            "project4": {
                "head": {
                    "Client-Id": "your_client_id_4",
                    "Api-Key": "your_api_key_4"
                },
                "project": "project4"
            }
        }
    }
}
```

### Поля конфигурации:
- **telegram**:
  - `bot_token`: Токен вашего Telegram-бота.
  - `forum_chat_id`: ID чата форума, куда будут отправляться уведомления.
  - `forum_topic_id`: ID темы в форуме для уведомлений.
  - `admin_chat_id`: ID чата администратора для уведомлений об ошибках.
  
- **google**:
  - `service_account_file`: Путь к файлу сервисного аккаунта Google.
  - `ik_1_3` и `ik_2_4`: Настройки для Google Таблиц, включая ID таблиц, названия листов и ID таблиц с остатками.

- **projects**:
  - `p_1_3` и `p_2_4`: Настройки для проектов, включая `Client-Id` и `Api-Key` для доступа к API Ozon.

## Установка и запуск

1. Убедитесь, что у вас установлен Python 3.7 или выше.
2. Установите необходимые зависимости:
   ```bash
   pip install requests pytz gspread
   ```
3. Заполните файл `config.json` своими данными.
4. Запустите скрипт:
   ```bash
   python bot_reviews.py
   ```

## Как это работает

1. Бот получает отзывы через API Ozon.
2. Фильтрует отзывы с оценкой меньше 5 и проверяет, есть ли остатки по товару.
3. Если отзыв новый (отсутствует в сохраненном файле за текущий день), бот отправляет уведомление в Telegram.
4. Все отзывы сохраняются в JSON-файл для последующего анализа.

## Логирование

Отзывы сохраняются в файлы формата `reviews_<project_name>_<дата>.json` в папке `Путь к исполняемому файлу бота\files\`.

## Обратная связь

Если у вас есть вопросы или предложения по улучшению, пожалуйста, создайте issue в репозитории.

```

Этот README предоставляет всю необходимую информацию для настройки и запуска бота, а также объясняет его функциональность.
